{% extends 'base.html' %}
{% load static %}

{% block customcss %}
    <link rel="stylesheet" href="{% static 'style.css' %}">
{% endblock customcss %}

{% block content %}
<div class="container">
    <div class="alert alert-success commentowner" role="alert">
        <p>æŠ•ç¨¿è€…ï¼š{{object.user}}ã€€ã‚³ãƒ¡ãƒ³ãƒˆæ•°ï¼š{{object.comment_count}}</p>
        <p>ã‚³ãƒ¡ãƒ³ãƒˆï¼š{{object.content}}</p>

        <div class="action-buttons">
            {% if request.user in object.like.all %}
            <a href="{% url 'like-detail' object.pk %}" class="like-btn add-color" tabindex="-1" role="button" aria-disabled="true"><i class="fas fa-heart"></i></a>{{object.like.count}}
            {% else %}
            <a href="{% url 'like-detail' object.pk %}" class="like-btn" tabindex="-1" role="button" aria-disabled="true"><i class="far fa-heart"></i></a>{{object.like.count}}
            {% endif %}

            {% if request.user != object.user %} <!-- è‡ªåˆ†ã®æŠ•ç¨¿ã«ã¯ãƒ•ã‚©ãƒ­ãƒ¼ãƒœã‚¿ãƒ³ã‚’è¡¨ç¤ºã—ãªã„ -->
            <a href="{% url 'comment-create' object.pk %}" class="btn btn-primary">ã‚³ãƒ¡ãƒ³ãƒˆã™ã‚‹</a>
            {% if object.user in connection.0.following.all %}
            <a href="{% url 'follow-detail' object.pk %}" class="btn btn-danger ms-3" tabindex="-1" role="button" aria-disabled="true">ãƒ•ã‚©ãƒ­ãƒ¼è§£é™¤</a>
            {% else %}
            <a href="{% url 'follow-detail' object.pk %}" class="btn btn-primary ms-3" tabindex="-1" role="button" aria-disabled="true">ãƒ•ã‚©ãƒ­ãƒ¼</a>
            {% endif %}

            {% endif %}
        </div>
        <div class="fotter-emort-content">
        ã‚³ãƒ¡ãƒ³ãƒˆæ•°ï¼š{{ object.comment_count }}ã€€æŠ•ç¨¿æ—¥æ™‚ï¼š{{object.created_at}}
        </div>
        {% if object.user == request.user %}
        <a href="{% url 'delete' object.pk %}" class="btn btn-danger ms-3" tabindex="-1" role="button" aria-disabled="true">å‰Šé™¤</a>
        {% endif %}
    </div>
</div>
<div class="container commentblock">
    {% for comment in comments %}
    <div class="alert alert-success alert alert-success emotion-{{ comment.face_emotion }}" role="alert">
         <!-- ã‚³ãƒ¡ãƒ³ãƒˆã‚’è¡¨ç¤º -->
        <div class="comment ">
            <p>æŠ•ç¨¿è€…ï¼š{{ comment.user }}</p>
            ã€€æ–‡å­—æ„Ÿæƒ…ï¼š{% if comment.face_emotion == "positive" %}ğŸ¥°{% elif comment.face_emotion == "negative" %}ğŸ˜¥{% else %}ğŸ˜{% endif %}
                è¡¨æƒ…ï¼š{% if comment.face_emotion == "positive" %}ğŸ¥°{% elif comment.face_emotion == "negative" %}ğŸ˜¥{% elif comment.face_emotion == "nautral" %}ğŸ˜{% else %}ğŸ™ƒ{% endif %}</p>
                <div class="main-emort-content">
                    {{ comment.content }}
                </div>
        </div>
    </div>
    {% endfor %}
</div>
{% endblock content %}